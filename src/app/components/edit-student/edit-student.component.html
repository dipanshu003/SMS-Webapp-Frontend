<!-- navbar -->
<app-navbar></app-navbar>
<div class="container-fluid student-update-container">
  <div class="container w-50">
    <h1 class="text-center my-4">Update Student</h1>

    <div class="card shadow-lg mb-5 bg-white rounded">
      <div class="card-header bg-primary text-white">
        <h5 class="mb-0 text-center">
          Updating {{ student.firstName }} {{ student.lastName }}'s Profile
        </h5>
      </div>

      <form #editStudent="ngForm" (ngSubmit)="onSubmit(editStudent)">
        <!-- card body -->
        <div class="card-body">
          <div class="form-group mb-3">
            <label><strong>First Name:</strong></label>
            <input type="text" class="form-control" name="firstName" [(ngModel)]="student.firstName" placeholder="Enter first name" required />
          </div>
          <div class="form-group mb-3">
            <label><strong>Last Name:</strong></label>
            <input type="text" class="form-control" name="lastName" [(ngModel)]="student.lastName" placeholder="Enter last name" required />
          </div>
          <div class="form-group mb-3">
            <label><strong>Email:</strong></label>
            <input type="email" class="form-control" name="email" [(ngModel)]="student.email" placeholder="Enter email" required />
          </div>
          <div class="form-group mb-3">
            <label><strong>Phone Number:</strong></label>
            <input type="text" class="form-control" name="phoneNumber" [(ngModel)]="student.phoneNumber" placeholder="Enter phone number" required />
          </div>
          <div class="form-group mb-3">
            <label><strong>Age:</strong></label>
            <input type="number" class="form-control" name="age" [(ngModel)]="student.age" placeholder="Enter age" required />
          </div>

          <h5 class="mt-4">Relatives:</h5>
          <table class="table table-striped">
            <!-- table heading -->
            <thead class="table-dark">
              <tr>
                <th>Sr No.</th>
                <th>Relation</th>
                <th>Name</th>
                <th>Age</th>
              </tr>
            </thead>

            <!-- table body -->
            <tbody>
              <tr *ngFor="let relative of student.relatives; let i = index">
                <td>{{ i + 1 }}</td>
                <td><input type="text" class="form-control" [(ngModel)]="relative.relation" name="relation{{i}}" required /></td>
                <td><input type="text" class="form-control" [(ngModel)]="relative.name" name="name{{i}}" required /></td>
                <td><input type="number" class="form-control" [(ngModel)]="relative.age" name="age{{i}}" required /></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- card footer -->
        <div class="card-footer text-center">
          <button class="btn btn-warning mx-3" [disabled]="!editStudent.valid">Save</button>
          <button class="btn btn-danger mx-3" type="button" (click)="cancel()">Cancel</button>
          <button class="btn btn-info mx-3" type="button" (click)="addRelative()">Add Relative</button>
        </div>
      </form>
    </div>
  </div>
</div>
